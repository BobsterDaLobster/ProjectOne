<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Personal Profile Website</title>
  <style>
    body { font-family: Arial, sans-serif; margin:0; background:#f5f9ff; color:#333; }
    header { background:#87CEFA; padding:1em; text-align:center; color:#fff; }
    main { display:flex; flex-wrap:wrap; padding:1em; gap:1em; }

    section { flex:1 1 45%; background:#fff; border-radius:10px; padding:1em; box-shadow:0 2px 5px rgba(0,0,0,0.1); }
    h2 { margin-top:0; }

    /* Calendar */
    #calendar { display:grid; grid-template-columns:repeat(7,1fr); gap:5px; }
    .day { padding:10px; border:1px solid #ccc; text-align:center; cursor:pointer; }
    .today { background:#FFD580; }
    #eventList { margin-top:1em; }

    /* Game */
    #gameContainer { position:relative; }
    canvas { background:#cceeff; display:block; margin:0 auto; border:2px solid #000; }
    #gameControls { text-align:center; margin-top:5px; }
    .keypad { position:absolute; bottom:10px; right:10px; display:grid; grid-template-columns:repeat(3,50px); grid-gap:5px; }
    .key { background:#87CEFA; color:white; padding:10px; text-align:center; border-radius:5px; cursor:pointer; user-select:none; }
    .key:active { background:#FFA07A; }

    /* Scoreboard */
    #scoreboard { text-align:center; margin-top:10px; font-size:16px; }

    /* Game Over Overlay */
    #gameOverScreen {
      position:absolute; top:0; left:0; width:100%; height:100%;
      background:rgba(0,0,0,0.7); color:white; display:flex;
      flex-direction:column; justify-content:center; align-items:center;
      font-size:24px; opacity:0; pointer-events:none;
      transition:opacity 0.5s ease;
    }
    #gameOverScreen.show { opacity:1; pointer-events:auto; }
    #restartBtn {
      margin-top:20px; padding:10px 20px; font-size:18px;
      background:#eee; color:#333; border:none; border-radius:5px; cursor:pointer;
    }

    /* News */
    .newsGrid { display:grid; grid-template-columns:repeat(3,1fr); gap:10px; }
    .newsItem { border:1px solid #ccc; border-radius:8px; overflow:hidden; background:#fafafa; }
    .newsItem img { width:100%; height:120px; object-fit:cover; }
    .newsItem h4 { margin:0.5em; font-size:14px; }
    .newsItem p { margin:0.5em; font-size:12px; }
    
    /* Hidden poki link */
    #secretArea { position:fixed; bottom:5px; right:5px; width:20px; height:20px; cursor:pointer; }
  </style>
</head>
<body>
<header>
  <h1>My Personal Website</h1>
</header>
<main>
  <section>
    <h2>Calendar</h2>
    <div id="calendar"></div>
    <div id="eventList"><strong>Events:</strong><ul id="events"></ul></div>
  </section>

  <section id="gameContainer">
    <h2>Crossy Road Clone</h2>
    <canvas id="gameCanvas" width="300" height="400"></canvas>
    <div id="scoreboard">Score: <span id="score">0</span> | High Score: <span id="highScore">0</span></div>
    <div class="keypad">
      <div></div><div class="key" data-dir="up">⬆️</div><div></div>
      <div class="key" data-dir="left">⬅️</div><div class="key" data-dir="down">⬇️</div><div class="key" data-dir="right">➡️</div>
      <div></div><div class="key" data-dir="restart">⟳</div><div></div>
    </div>
    <div id="gameOverScreen">
      <div>Game Over</div>
      <div>Your Score: <span id="finalScore">0</span></div>
      <div>High Score: <span id="finalHighScore">0</span></div>
      <button id="restartBtn">Restart</button>
    </div>
  </section>

  <section>
    <h2>Latest News</h2>
    <div id="newsFeed"></div>
  </section>

  <section>
    <h2>Notre Dame Football</h2>
    <a href="https://www.espn.com/college-football/team/_/id/87/notre-dame-fighting-irish" target="_blank">Notre Dame on ESPN</a>
  </section>
</main>

<div id="secretArea"></div>

<script>
// ========== Calendar ==========
const calendarEl=document.getElementById("calendar"),eventsEl=document.getElementById("events");
let events={};
let today=new Date();
function renderCalendar(month,year){
  calendarEl.innerHTML="";
  const first=new Date(year,month).getDay(),days=new Date(year,month+1,0).getDate();
  for(let i=0;i<first;i++){calendarEl.appendChild(document.createElement("div"));}
  for(let d=1;d<=days;d++){
    const cell=document.createElement("div"); cell.className="day"; cell.textContent=d;
    if(d===today.getDate()&&month===today.getMonth()&&year===today.getFullYear())cell.classList.add("today");
    cell.onclick=()=>showEvents(year,month,d);
    calendarEl.appendChild(cell);
  }
}
function showEvents(y,m,d){
  const key=`${y}-${m+1}-${d}`;
  eventsEl.innerHTML="";
  (events[key]||[]).forEach(e=>{
    const li=document.createElement("li"); li.textContent=e; eventsEl.appendChild(li);
  });
}
renderCalendar(today.getMonth(),today.getFullYear());

// ========== Crossy Road ==========
const canvas=document.getElementById("gameCanvas"),ctx=canvas.getContext("2d");
const TILE=30, PLAYER_SIZE=30;
let player,lanes,offsetY,score,highScore=localStorage.getItem("highScore")||0,gameOver=false;

document.getElementById("highScore").textContent=highScore;

function resetGame(){
  player={x:Math.floor(canvas.width/2/TILE)*TILE,y:25*TILE,size:PLAYER_SIZE};
  lanes=[];offsetY=0;score=0;gameOver=false;
  document.getElementById("score").textContent=0;
  document.getElementById("gameOverScreen").classList.remove("show");
  for(let i=0;i<40;i++){generateLane(i);}
}

function generateLane(index){
  if(index%10===0){lanes.push({type:"grass"});}
  else{
    const rand=Math.random();
    if(rand<0.5)lanes.push({type:"road",cars:[]});
    else if(rand<0.8)lanes.push({type:"river",logs:[]});
    else lanes.push({type:"grass"});
  }
}

function move(dir){
  if(gameOver) return;
  if(dir==="up"){player.y-=TILE;score++;document.getElementById("score").textContent=score;if(player.y<TILE*15){offsetY+=TILE;generateLane(lanes.length);}}
  if(dir==="down"&&player.y<25*TILE)player.y+=TILE;
  if(dir==="left"&&player.x>=TILE)player.x-=TILE;
  if(dir==="right"&&player.x<=canvas.width-TILE*2)player.x+=TILE;
}

function endGame(){
  gameOver=true;
  document.getElementById("finalScore").textContent=score;
  if(score>highScore){highScore=score;localStorage.setItem("highScore",score);}
  document.getElementById("finalHighScore").textContent=highScore;
  document.getElementById("highScore").textContent=highScore;
  document.getElementById("gameOverScreen").classList.add("show");
}

function gameLoop(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  for(let i=0;i<lanes.length;i++){
    const laneY=canvas.height-(i*TILE)+offsetY;
    if(laneY<-TILE||laneY>canvas.height+TILE)continue;
    ctx.fillStyle=(lanes[i].type==="grass"?"#7cfc00":lanes[i].type==="road"?"#555":"#00f");
    ctx.fillRect(0,laneY,canvas.width,TILE);
    if(lanes[i].type==="road"){ctx.fillStyle="#f00"; if(Math.random()<0.02)lanes[i].cars.push({x:0,speed:2+Math.random()*2}); lanes[i].cars.forEach(c=>{c.x+=c.speed; ctx.fillRect(c.x,laneY,30,30); if(Math.abs(c.x-player.x)<30&&Math.abs(laneY-player.y)<30)endGame();});}
    if(lanes[i].type==="river"){ctx.fillStyle="#964B00"; if(Math.random()<0.02)lanes[i].logs.push({x:0,speed:1+Math.random()*1}); lanes[i].logs.forEach(l=>{l.x+=l.speed; ctx.fillRect(l.x,laneY,60,30); if(player.y===laneY&&!(player.x>l.x&&player.x<l.x+60))endGame();});}
  }
  ctx.fillStyle="black"; ctx.fillRect(player.x,player.y,PLAYER_SIZE,PLAYER_SIZE);
  requestAnimationFrame(gameLoop);
}
resetGame(); gameLoop();

// keypad + restart
document.querySelectorAll(".key").forEach(k=>k.addEventListener("click",()=>{const dir=k.dataset.dir;if(dir==="restart")resetGame();else move(dir);}));
document.getElementById("restartBtn").addEventListener("click",resetGame);

// ========== News (RSS) ==========
async function loadNews(){
  const categories=[
    {name:"International Politics",url:"https://rss.nytimes.com/services/xml/rss/nyt/World.xml"},
    {name:"National Politics",url:"https://rss.nytimes.com/services/xml/rss/nyt/Politics.xml"},
    {name:"Science",url:"https://rss.nytimes.com/services/xml/rss/nyt/Science.xml"},
    {name:"Sports",url:"https://www.espn.com/espn/rss/news"}
  ];
  const feedEl=document.getElementById("newsFeed"); feedEl.innerHTML="";
  for(const cat of categories){
    const res=await fetch("https://api.allorigins.win/get?url="+encodeURIComponent(cat.url));
    const data=await res.json(); const xml=new DOMParser().parseFromString(data.contents,"text/xml");
    const items=[...xml.querySelectorAll("item")].slice(0,6);
    const div=document.createElement("div"); div.innerHTML=`<h3>${cat.name}</h3>`;
    const grid=document.createElement("div"); grid.className="newsGrid";
    items.forEach(it=>{
      const link=it.querySelector("link")?.textContent||"#";
      const title=it.querySelector("title")?.textContent||"";
      const desc=it.querySelector("description")?.textContent||"";
      const thumb=it.querySelector("media\\:content")?.getAttribute("url")||"https://via.placeholder.com/150";
      const tile=document.createElement("div"); tile.className="newsItem";
      tile.innerHTML=`<a href="${link}" target="_blank"><img src="${thumb}"><h4>${title}</h4><p>${desc}</p></a>`;
      grid.appendChild(tile);
    });
    div.appendChild(grid); feedEl.appendChild(div);
  }
}
loadNews(); setInterval(loadNews,1800000);

// ========== Secret Poki code ==========
let secret="",secretArea=document.getElementById("secretArea");
secretArea.onclick=function(){let input=prompt("Enter code:"); if(input==="494849"){window.location.href="https://poki.com";}};
</script>
</body>
</html>
